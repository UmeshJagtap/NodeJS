
// Rest API Essentials

// REST constraints : Client-server, statelessness, cacheable, layered system, uniform interface, HATEOAS (optional in practise)
// HTTP methods :
// GET (read), POST (create), PUT (replace), PATCH (partial update), DELETE, HEAD, OPTIONS
// Status codes :
// 200 OK, 201 Created, 204 No Content,
// 400 Bad Request, 401 UnAuthorised, 404 Not Found,
// 409 Conflict, 422 Unprocessable Entity, 429 Too Many Requests,
// 500 Internal Server Error
// Idempotency : GET/PUT/DELETE should be idempotent, POST is not.
// Headers : Authorization, Content-Type, Accept, ETag, If-None-Match, Cache-Control, X-Request-ID, rate-limit headers.
// Pagination & filterig : ?page=1&pageSize=20&sort=createdAt&status=active,
// Versoning: /v1/... or Accept:application/vnd.myapp.v1+json
// Caching: ETag/Last-Modified, Cache-Control (for GET), 304 Not Modified

// POSTMAN ----
// GET
// POST

// Client -> HTTP request -> express js -> route -> logic -> JSON response

// Express 
// [ express.js ]

Benefits of Rest API
> Speed of development & ecosystem: Massive NPM lirary support; rapid prototyping.
> Non-blocking I/O : Great for I/O-bound API's, websockets ad high concurrency.
> Scalibility: Horizontal scaling behind a load balancer is straight forward.
> JSON-native: JavaScript on both client & server simplifies data handling.
> Framework variety: Choose Express (minimal), Fastify (performance), NextJS (structured). 


Limitation of Rest API
> CPU-bound work: Node's single threaded event loop isn't ideal for heavy CPU tasks (use workers, queues or seprate services)
> Callback
// 19:45


Restrictions of Rest API
> Validate all inputs ( Zod/ Ajv ), Return 422 with details.
> AuthN/AuthZ :- JWT for stateles API; rotate secrets; short expiry & refresh tokens; role-based checks.
> CORS : Restrict origins in prod.
> Rate limiting & throttling; express-rate-limit; IP-based and token-based thresholds.
> Helmet: Secure headers; disable x-powered-by
> TLS-only: Terminate HTTPS at load balancer or server .
> Secrets management: .env in dev; use vaults/Key, Vault/SSM in prod.
> OWASP API Top 10: Broken object level authorization (BOLA) is a comman pitfall-always scope queries by user/tenant 